##获取求助信息的条数
#count
SELECT count(*) AS count
FROM orders
  JOIN order_want_helps ON orders.order_id = order_want_helps.order_id
  LEFT JOIN accounts runner_user ON order_want_helps.runner = runner_user.id
  JOIN accounts creater_user ON orders.creater = creater_user.id

##获取所有求助信息
#list
SELECT
  orders.order_id,
  college,
  title,
  gender_constraint,
  reward_type,
  reward,
  creater,
  creater_user.nickname AS creater_name,
  creater_user.gender   AS creater_gender,
  address,
  deadline,
  status,
  _c
FROM orders
  JOIN order_want_helps ON orders.order_id = order_want_helps.order_id
  JOIN accounts creater_user ON orders.creater = creater_user.id

##获取求助基本信息
#info
SELECT
  orders.order_id,
  college,
  college_name,
  title,
  content,
  gender_constraint,
  reward_type,
  reward,
  creater,
  creater_user.nickname AS creater_name,
  creater_user.gender   AS creater_gender,
  runner,
  runner_user.nickname  AS runner_name,
  runner_user.gender    AS runner_gender,
  weixin,
  phone_number,
  address,
  deadline,
  status,
  _c
FROM orders
  JOIN order_want_helps ON orders.order_id = order_want_helps.order_id
  JOIN colleges ON orders.college = colleges.college_id
  LEFT JOIN accounts AS runner_user ON order_want_helps.runner = runner_user.id
  JOIN accounts AS creater_user ON orders.creater = creater_user.id
WHERE orders.order_id = ?

##创建求助订单
#add
insert into order_want_helps set ?;

##獲取求助订单的創建人和用户
#getCreateAndUser
SELECT
  creater,
  runner,
  orders.`status`
FROM orders
  JOIN order_want_helps ON order_want_helps.`order_id` = orders.`order_id`
WHERE orders.`order_id`= ? ;

##修改信息
#update
UPDATE order_want_helps
SET ?
WHERE order_id = ?