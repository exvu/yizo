"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getUserInfo = getUserInfo;
exports.setUserInfo = setUserInfo;
exports.saveUserInfo = saveUserInfo;
exports.signOut = signOut;
exports.isUserInfoFull = isUserInfoFull;
var app = getApp();
function getUserInfo() {
  return wx.getStorageSync("userinfo");
}

function setUserInfo(data) {

  var userInfo = wx.getStorageSync("userInfo");
  var remember = wx.getStorageSync("remember");
  if (userinfo) {
    userinfo = replace(userinfo, data);
    wx.setStorage({
      key: "userInfo",
      data: userInfo
    });
  }
  if (remember) {
    remember = replace(remember, data);
    wx.setStorage({
      key: "remember",
      data: remember
    });
  }
}
function saveUserInfo(data, currentPage) {
  wx.setStorage({
    key: "userInfo",
    data: data
  });
  console.log(currentPage.$parent);
  currentPage.$parent.globalData['userInfo'] = data;
}
function signOut() {
  //移除token
  wx.removeStorage({ key: 'access-token' });
  wx.removeStorage({ key: 'remember' });
  wx.removeStorage({ key: 'userinfo' });
}

function replace(source, target) {

  for (var item in target) {

    if (item in source) {
      source[item] = target[item];
    }
  }
  return source;
}
function isUserInfoFull() {

  var userinfo = getUserInfo();
  if (!userinfo['college'] || userinfo['gender'] == null) {
    return false;
  }
  return true;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNhdmVVc2VySW5mbyIsInNpZ25PdXQiLCJpc1VzZXJJbmZvRnVsbCIsImFwcCIsImdldEFwcCIsInd4IiwiZ2V0U3RvcmFnZVN5bmMiLCJkYXRhIiwidXNlckluZm8iLCJyZW1lbWJlciIsInVzZXJpbmZvIiwicmVwbGFjZSIsInNldFN0b3JhZ2UiLCJrZXkiLCJjdXJyZW50UGFnZSIsImNvbnNvbGUiLCJsb2ciLCIkcGFyZW50IiwiZ2xvYmFsRGF0YSIsInJlbW92ZVN0b3JhZ2UiLCJzb3VyY2UiLCJ0YXJnZXQiLCJpdGVtIl0sIm1hcHBpbmdzIjoiOzs7OztRQUNnQkEsVyxHQUFBQSxXO1FBSUFDLFcsR0FBQUEsVztRQW1CQUMsWSxHQUFBQSxZO1FBUUFDLE8sR0FBQUEsTztRQWlCQUMsYyxHQUFBQSxjO0FBakRoQixJQUFNQyxNQUFNQyxRQUFaO0FBQ08sU0FBU04sV0FBVCxHQUF1QjtBQUM1QixTQUFPTyxHQUFHQyxjQUFILENBQWtCLFVBQWxCLENBQVA7QUFDRDs7QUFFTSxTQUFTUCxXQUFULENBQXFCUSxJQUFyQixFQUEyQjs7QUFFaEMsTUFBSUMsV0FBV0gsR0FBR0MsY0FBSCxDQUFrQixVQUFsQixDQUFmO0FBQ0EsTUFBSUcsV0FBV0osR0FBR0MsY0FBSCxDQUFrQixVQUFsQixDQUFmO0FBQ0EsTUFBSUksUUFBSixFQUFjO0FBQ1pBLGVBQVdDLFFBQVFELFFBQVIsRUFBa0JILElBQWxCLENBQVg7QUFDQUYsT0FBR08sVUFBSCxDQUFjO0FBQ1pDLFdBQUssVUFETztBQUVaTixZQUFNQztBQUZNLEtBQWQ7QUFJRDtBQUNELE1BQUlDLFFBQUosRUFBYztBQUNaQSxlQUFXRSxRQUFRRixRQUFSLEVBQWtCRixJQUFsQixDQUFYO0FBQ0FGLE9BQUdPLFVBQUgsQ0FBYztBQUNaQyxXQUFLLFVBRE87QUFFWk4sWUFBTUU7QUFGTSxLQUFkO0FBSUQ7QUFDRjtBQUNNLFNBQVNULFlBQVQsQ0FBc0JPLElBQXRCLEVBQTJCTyxXQUEzQixFQUF3QztBQUM3Q1QsS0FBR08sVUFBSCxDQUFjO0FBQ1pDLFNBQUssVUFETztBQUVaTjtBQUZZLEdBQWQ7QUFJQVEsVUFBUUMsR0FBUixDQUFZRixZQUFZRyxPQUF4QjtBQUNBSCxjQUFZRyxPQUFaLENBQW9CQyxVQUFwQixDQUErQixVQUEvQixJQUE2Q1gsSUFBN0M7QUFDRDtBQUNNLFNBQVNOLE9BQVQsR0FBbUI7QUFDeEI7QUFDQUksS0FBR2MsYUFBSCxDQUFpQixFQUFFTixLQUFLLGNBQVAsRUFBakI7QUFDQVIsS0FBR2MsYUFBSCxDQUFpQixFQUFFTixLQUFLLFVBQVAsRUFBakI7QUFDQVIsS0FBR2MsYUFBSCxDQUFpQixFQUFFTixLQUFLLFVBQVAsRUFBakI7QUFDRDs7QUFFRCxTQUFTRixPQUFULENBQWlCUyxNQUFqQixFQUF5QkMsTUFBekIsRUFBaUM7O0FBRS9CLE9BQUssSUFBSUMsSUFBVCxJQUFpQkQsTUFBakIsRUFBeUI7O0FBRXZCLFFBQUlDLFFBQVFGLE1BQVosRUFBb0I7QUFDbEJBLGFBQU9FLElBQVAsSUFBZUQsT0FBT0MsSUFBUCxDQUFmO0FBQ0Q7QUFDRjtBQUNELFNBQU9GLE1BQVA7QUFDRDtBQUNNLFNBQVNsQixjQUFULEdBQTBCOztBQUUvQixNQUFJUSxXQUFXWixhQUFmO0FBQ0EsTUFBSSxDQUFDWSxTQUFTLFNBQVQsQ0FBRCxJQUF3QkEsU0FBUyxRQUFULEtBQXNCLElBQWxELEVBQXdEO0FBQ3RELFdBQU8sS0FBUDtBQUNEO0FBQ0QsU0FBTyxJQUFQO0FBQ0QiLCJmaWxlIjoidXNlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFwcCA9IGdldEFwcCgpXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VySW5mbygpIHtcclxuICByZXR1cm4gd3guZ2V0U3RvcmFnZVN5bmMoXCJ1c2VyaW5mb1wiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuXHJcbiAgbGV0IHVzZXJJbmZvID0gd3guZ2V0U3RvcmFnZVN5bmMoXCJ1c2VySW5mb1wiKTtcclxuICBsZXQgcmVtZW1iZXIgPSB3eC5nZXRTdG9yYWdlU3luYyhcInJlbWVtYmVyXCIpO1xyXG4gIGlmICh1c2VyaW5mbykge1xyXG4gICAgdXNlcmluZm8gPSByZXBsYWNlKHVzZXJpbmZvLCBkYXRhKTtcclxuICAgIHd4LnNldFN0b3JhZ2Uoe1xyXG4gICAgICBrZXk6IFwidXNlckluZm9cIixcclxuICAgICAgZGF0YTogdXNlckluZm9cclxuICAgIH0pO1xyXG4gIH1cclxuICBpZiAocmVtZW1iZXIpIHtcclxuICAgIHJlbWVtYmVyID0gcmVwbGFjZShyZW1lbWJlciwgZGF0YSk7XHJcbiAgICB3eC5zZXRTdG9yYWdlKHtcclxuICAgICAga2V5OiBcInJlbWVtYmVyXCIsXHJcbiAgICAgIGRhdGE6IHJlbWVtYmVyXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVVc2VySW5mbyhkYXRhLGN1cnJlbnRQYWdlKSB7XHJcbiAgd3guc2V0U3RvcmFnZSh7XHJcbiAgICBrZXk6IFwidXNlckluZm9cIixcclxuICAgIGRhdGFcclxuICB9KTtcclxuICBjb25zb2xlLmxvZyhjdXJyZW50UGFnZS4kcGFyZW50KVxyXG4gIGN1cnJlbnRQYWdlLiRwYXJlbnQuZ2xvYmFsRGF0YVsndXNlckluZm8nXSA9IGRhdGE7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25PdXQoKSB7XHJcbiAgLy/np7vpmaR0b2tlblxyXG4gIHd4LnJlbW92ZVN0b3JhZ2UoeyBrZXk6ICdhY2Nlc3MtdG9rZW4nIH0pO1xyXG4gIHd4LnJlbW92ZVN0b3JhZ2UoeyBrZXk6ICdyZW1lbWJlcicgfSk7XHJcbiAgd3gucmVtb3ZlU3RvcmFnZSh7IGtleTogJ3VzZXJpbmZvJyB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVwbGFjZShzb3VyY2UsIHRhcmdldCkge1xyXG5cclxuICBmb3IgKGxldCBpdGVtIGluIHRhcmdldCkge1xyXG5cclxuICAgIGlmIChpdGVtIGluIHNvdXJjZSkge1xyXG4gICAgICBzb3VyY2VbaXRlbV0gPSB0YXJnZXRbaXRlbV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBzb3VyY2U7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVXNlckluZm9GdWxsKCkge1xyXG5cclxuICBsZXQgdXNlcmluZm8gPSBnZXRVc2VySW5mbygpO1xyXG4gIGlmICghdXNlcmluZm9bJ2NvbGxlZ2UnXSB8fCB1c2VyaW5mb1snZ2VuZGVyJ10gPT0gbnVsbCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICByZXR1cm4gdHJ1ZTtcclxufSJdfQ==